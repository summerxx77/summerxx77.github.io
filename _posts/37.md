layout: 算法
title: 数组重复数据分组算法 Objective-C实现
date: 2016-10-25 21:10:02
tags: 算法
---
> 将进行分组: 3 ,3 ,5 ,4 ,4 ,9 ,9 ,9 ,8 ,99 ,88 ,99
分组成: (3 3) (5) (4 4) (9 9 9) (8) (99 99) (88)

<!-- more -->


```objectivec
@property (nonatomic, strong) NSMutableArray *resArray;
```
```objectivec
- (NSMutableArray *)getSameArrayList:(NSArray *)arrayList
{
NSMutableArray *diffArray = [NSMutableArray array];
NSMutableArray *sameArray = [NSMutableArray array];
[sameArray addObject:arrayList[0]];
for (int i = 1; i < arrayList.count; i ++) {
if ([arrayList[i] isEqualToString:sameArray[0]]) {
[sameArray addObject:arrayList[i]];
}else{
[diffArray addObject:arrayList[i]];
}
}
[_resArray addObject:sameArray];
if (diffArray.count != 0) {
[self getSameArrayList:diffArray];
}
return _resArray;
}
```

```objectivec
// 测试一下
NSArray *arrayList = @[@"3", @"3",@"5", @"4", @"4", @"9", @"9", @"9", @"8", @"99", @"88", @"99"];
self.resArray = [NSMutableArray array];
[self getSameArrayList:arrayList];
NSMutableArray *r = [NSMutableArray array];
for (int i = 0; i < _resArray.count; i ++) {
[r addObject:_resArray[i]];
}
NSLog(@"%@", r);
```

<div align=center>
![](http://ww3.sinaimg.cn/large/0060lm7Tgw1f93o5oxtipj30n40kw0t7.jpg)
</div>

我是在什么场景下使用的?

<div align=center>
![](http://ww3.sinaimg.cn/large/0060lm7Tgw1f93o65yfmyj307y07mdg8.jpg)
</div>
> 比如我需要在地图上每隔一段时间插入一个大头针作为我的地理位置标记,  比如 15:15开始, 15:21结束 位置是同一个, 并没有发生变化, 那么我就显示一个时间段 15:15 - 15:21 如上图 那么就需要前面提到的小算法或者都不叫算法, 就叫它简单数据处理方法, 使用了递归.

我封装成一个工具类
```objectivec
/**
*  对数据重复元素进行分组
*  arrayList 数据源
*  返回值     装载的返回值
*/
+ (NSMutableArray *)getSameArrayList:(NSArray *)arrayList res:(NSMutableArray *)res;
```
```objectivec
+ (NSMutableArray *)getSameArrayList:(NSArray *)arrayList res:(NSMutableArray *)res
{
NSMutableArray *diffArray = [NSMutableArray array];
NSMutableArray *sameArray = [NSMutableArray array];
[sameArray addObject:arrayList[0]];
for (int i = 1; i < arrayList.count; i ++) {
UserModel *model = arrayList[i];
UserModel *sameModel = sameArray[0];
// 这里我根据经纬度进行判断
if ([model.latitude isEqualToString:sameModel.latitude] && [model.longitude isEqualToString:sameModel.longitude]) {
[sameArray addObject:arrayList[i]];
}else{
[diffArray addObject:arrayList[i]];
}
}
[res addObject:sameArray];
if (diffArray.count != 0) {
[DataBaseTool getSameArrayList:diffArray res:res];
}
return res;
}
```
```objectivec
// 这样调用就可以了
NSMutableArray *temp = [NSMutableArray array];
temp = [DataBaseTool getSameArrayList:arrayData res:temp];
```
> 如果有需要你进行一下简单修改就可以使用了, 希望对有需要的同学有帮助, 这就是我分享的目的啦

最后感谢您的阅读, 如果感觉有帮助可以关注我 和我一起学习!

<div align=center>
微信公众号 得到最快最新的推送
</div>

<div align=center>
![](http://ww1.sinaimg.cn/large/0060lm7Tgw1f9656jhucpj307607674r.jpg)
</div>

>我是夏天, 暖暖的夏天
End
